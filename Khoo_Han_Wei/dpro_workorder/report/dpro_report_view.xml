<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    <record id="view_dpro_report_tree" model="ir.ui.view">
        <field eval="1" name="priority"/>
        <field name="name">dpro.report.tree</field>
        <field name="model">dpro.report</field>
        <field name="arch" type="xml">
            <tree string="Work Orders Report" create="false" delete="false">
                <field name="id" invisible="1"/>
                <field name="name"/>
                <field name="project_id" invisible="1"/>
                <field name="proj_name"/>
                <field name="train_name"/>
                <field name="prod_name"/>
                <field name="status_id"/>
                <field name="work_type"/>
                <field name="date_in"/>                
                
                <field name="pr_prod_id" invisible="1"/>
                <field name="pr_categ_name"/>
                <field name="partner_shipping_id"/>
                <field name="user_id"/>
                <field name="pr_bom_id" invisible="1"/>
                <field name="pr_bom_complete_name"/>
                <field name="pr_name"/>
                <field name="pr_sup_supplier"/>
                <field name="pr_sup_product_code"/>
                <field name="pr_bt_part_no"/>
                <field name="pr_default_code"/>
                <field name="pr_serial_id"/>
                <field name="pr_serial_rev"/>
                
                <field name="work_requested"/>
                <field name="wr_code_id"/>
                <field name="mod_test_id"/>
                <field name="rev_test"/>
                <field name="maintain_reason"/>
                <field name="problem_code_id"/>
                <field name="defect"/>
                <field name="action_taken"/>
                <field name="mode_test_result_id"/>
                <field name="rev_test_result"/>
                <field name="comment"/>
                
                <field name="oline_prod_id" invisible="1"/>
                <field name="oline_warranty_id"/>
                <field name="oline_name"/>
                <field name="oline_loc"/>
                <field name="oline_bt_part_no"/>
                <field name="oline_default_code"/>
                <field name="oline_sup_product_code"/>
                <field name="oline_sup_supplier"/>
                <field name="pr_serial_id2"/>
                <field name="oline_serial_id"/>
                <field name="pr_serial_rev2"/>
                <field name="oline_serial_rev"/>
                <field name="oline_qty"/>
                <field name="oline_uom"/>
                <field name="relevancy"/>
            </tree>
        </field>
    </record>

    <record id="view_dpro_report_form" model="ir.ui.view">
        <field eval="1" name="priority"/>
        <field name="name">dpro.report.form</field>
        <field name="model">dpro.report</field>
        <field name="arch" type="xml">
            <form string="Work Orders Report" create='false' edit='false' delete='false'>
                <field name="id" invisible="1"/>
                <field name="name"/>
                <field name="project_id" invisible="1"/>
                <field name="proj_name"/>
                <field name="train_name"/>
                <field name="prod_name"/>
                <field name="status_id"/>
                <field name="work_type"/>
                <field name="date_in"/>                
                
                <field name="pr_prod_id" invisible="1"/>
                <field name="pr_categ_name"/>
                <field name="partner_shipping_id"/>
                <field name="user_id"/>
                <field name="pr_bom_id" invisible="1"/>
                <field name="pr_bom_complete_name"/>
                <field name="pr_name"/>
                <field name="pr_bt_part_no"/>
                <field name="pr_sup_supplier"/>
                <field name="pr_sup_product_code"/>
                <field name="pr_default_code"/>
                <field name="pr_serial_id"/>
                <field name="pr_serial_rev"/>
                
                <field name="work_requested"/>
                <field name="wr_code_id"/>
                <field name="mod_test_id"/>
                <field name="rev_test"/>
                <field name="maintain_reason"/>
                <field name="problem_code_id"/>
                <field name="defect"/>
                <field name="action_taken"/>
                <field name="mode_test_result_id"/>
                <field name="rev_test_result"/>
                <field name="comment"/>
                
                <field name="oline_prod_id" invisible="1"/>
                <field name="oline_warranty_id"/>
                <field name="oline_name"/>
                <field name="oline_loc"/>
                <field name="oline_bt_part_no"/>
                <field name="oline_default_code"/>
                <field name="oline_sup_product_code"/>
                <field name="oline_sup_supplier"/>
                <field name="pr_serial_id2"/>
                <field name="oline_serial_id"/>
                <field name="pr_serial_rev2"/>
                <field name="oline_serial_rev"/>
                <field name="oline_qty"/>
                <field name="oline_uom"/>
                <field name="relevancy"/>
            </form>
        </field>
    </record>
    <record id="view_dpro_report_search" model="ir.ui.view">
        <field name="name">dpro.report.search</field>
        <field name="model">dpro.report</field>
	    <field name="arch" type="xml">
	        <search string="Search Work Order">
	            <field name="name" string="Sales Order" filter_domain="['|',('name','ilike',self),('client_order_ref','ilike',self)]"/>
	            <filter icon="terp-mail-message-new" string="Unread Messages" name="message_unread" domain="[('message_unread','=',True)]"/>
	            <separator/>
	            <filter icon="terp-document-new" string="Quotations" name="draft" domain="[('state','in',('draft','sent'))]" help="Sales Order that haven't yet been confirmed"/>
	            <filter icon="terp-check" string="Sales" name="sales" domain="[('state','in',('manual','progress'))]"/>
	            <filter icon="terp-dolar_ok!" string="To Invoice" domain="[('state','=','manual')]" help="Sales Order ready to be invoiced"/>
	            <filter icon="terp-dolar_ok!" string="Done" domain="[('state','=','done')]" help="Sales Order done"/>
	            <separator/>
	            <filter string="My Sales Orders" domain="[('user_id','=',uid)]" help="My Sales Orders" icon="terp-personal" name="my_sale_orders_filter"/>
	            <field name="user_id"/>
	            <field name="project_id"/>
	            <group expand="0" string="Group By...">
	                <filter string="Customer" icon="terp-personal" domain="[]" context="{'group_by':'partner_id'}"/>
	                <filter string="Announcer" icon="terp-personal" domain="[]" context="{'group_by':'user_id'}"/>
	                <filter string="Status" icon="terp-stock_effects-object-colorize" domain="[]" context="{'group_by':'state'}"/>
	                <filter string="Order Date" icon="terp-go-month" domain="[]" context="{'group_by':'date_order'}"/>
	            </group>
	       </search>
	    </field>
	</record>

    <record id="action_dpro_report" model="ir.actions.act_window">
        <field name="name">Work Orders Report</field>
        <field name="res_model">dpro.report</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree</field>
        <field name="search_view_id" ref="view_dpro_report_search"/>
        <field name="view_id" ref="view_dpro_report_tree"/>
    </record>
	<menuitem id="menu_dpro_report" name="Work Orders Report" parent="menu_child_service"
	        action="action_dpro_report" sequence="2"/>

</data>
</openerp>
