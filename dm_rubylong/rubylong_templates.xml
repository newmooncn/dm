<?xml version="1.0" encoding="utf-8"?>
<!-- vim:fdn=3:
-->
<openerp>
    <data>
        <template id="dm_rubylong.layout" name="Rubylong layout">&lt;!DOCTYPE html&gt;
            <html style="height: 100%">
                <head>
                    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
                    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
                    <title>Odoo</title>                    
    				<script src="/dm_rubylong/static/CreateControl.js" type="text/javascript"></script>
    				<script src="/dm_rubylong/static/GRInstall.js" type="text/javascript"></script>      
					<script type="text/javascript" id="rubylong_run">
				        //get xml data		
				        /*			    					    
					    var xmlText = '<xml>';
		                <t t-foreach="docs" t-as="o">
		                	xmlText += "<t t-raw='o.rubylong_xml'/>";
		                </t>
		                xmlText += "</xml>";		
		                */
		                			
					    //var url_data_read = encodeURI('POST::/rubylong/design/read?file_name=<t t-esc="url_data_read"/>')
					    //var url_data_read = 'POST::/dm_rubylong/design/read?file_name=<t t-esc="url_data_read"/>'
					    var cur_time = new Date().getTime()
					    var url_data_read = '<t t-esc="url_data_read"/>?dt=' + cur_time
					    var to_desigin = <t t-esc="to_design"/>
				        if (!to_desigin) {				        	
				        	CreatePrintViewerEx("100%", "100%", url_data_read , 'GET::/dmc_actin/static/dm_rubylong_po.xml?dt=' + cur_time, true, "&lt;param name=BorderStyle value=1&gt;");
				        	//goto print preview page
				            //CreatePrintViewerEx("100%", "100%", url_data_read , '', false, "&lt;param name=BorderStyle value=1&gt;");
			                //run report
						    //ReportViewer.Report.LoadDataFromXML(xmlText);
							//ReportViewer.Start();
				        } else {
				        	//goto design page
				        	var url_data_write = '<t t-esc="url_data_write"/>'
				        	var url_data_load = '<t t-esc="url_data_load"/>'
				            CreateDesigner(url_data_read , url_data_write, url_data_load, "&lt;param name=BorderStyle value=1&gt;");
				        }
					</script>     
					          
				    <style type="text/css">
				        html, body {
				            margin: 0;
				            height: 100%;
				        }
				    </style>
				                    
                </head>
                <body>
                </body>
            </html>
        </template>

    </data>
</openerp>
